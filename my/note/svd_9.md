### train_on_batch

```
train_on_batch(x, y, sample_weight=None, class_weight=None)
```

运行一批样品的单次梯度更新。

__参数_

- **x**: 训练数据的 Numpy 数组（如果模型只有一个输入）， 或者是 Numpy 数组的列表（如果模型有多个输入）。 如果模型中的输入层被命名，你也可以传递一个字典，将输入层名称映射到 Numpy 数组。
- **y**: 目标（标签）数据的 Numpy 数组，或 Numpy 数组的列表（如果模型具有多个输出）。 如果模型中的输出层被命名，你也可以传递一个字典，将输出层名称映射到 Numpy 数组。
- **sample_weight**: 可选数组，与 x 长度相同，包含应用到模型损失函数的每个样本的权重。 如果是时域数据，你可以传递一个尺寸为 (samples, sequence_length) 的 2D 数组， 为每一个样本的每一个时间步应用不同的权重。 在这种情况下，你应该在 `compile()` 中指定 `sample_weight_mode="temporal"`。
- **class_weight**: 可选的字典，用来映射类索引（整数）到权重（浮点）值，以在训练时对模型的损失函数加权。 这可能有助于告诉模型 「更多关注」来自代表性不足的类的样本。

**返回**

标量训练误差（如果模型只有一个输入且没有评估标准）， 或者标量的列表（如果模型有多个输出 和/或 评估标准）。 属性 `model.metrics_names` 将提供标量输出的显示标签。